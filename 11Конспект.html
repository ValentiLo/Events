<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link href="style1.css" rel="stylesheet">
</head>
<body>
    <h1>Конспект «События в JavaScript». Раздел 1</h1>
    <p><b>События</b> — <i>действия пользователя на странице (клик по кнопке, нажатие клавиши)</i>.</p>
    <p>Добавление обработчиков событий</p>
    <pre><code>
    button.addEventListener('click', function () {
    // Инструкции
    });
    </code></pre>
    <p>В примере:</p>
    <ul>
        <li><span>button</span> — элемент, на котором мы хотим <span>«слушать» событие</span>.</li>
        <li><span>addEventListener()</span> — функция добавления обработчика события на элемент.</li>
        <li><span>'click'</span> — общепринятое название события, первый параметр функции addEventListener. 
            Названия всех событий можно посмотреть <a href="https://developer.mozilla.org/en-US/docs/Web/Events">здесь.</a></li>
        <li>Второй параметр <span>addEventListener</span> — функция-обработчик, в ней записаны инструкции, которые выполнятся, 
            только когда произойдёт событие.</li>
        
    </ul>
    <p>Обратите внимание, мы передаём <b>функцию, а не её вызов</b>. Если мы вызовем функцию, код из этой функции 
        выполнится сразу и больше не сработает. А нам нужно, чтобы код выполнился <b>асинхронно</b> — в момент, когда произойдёт событие.</p>
    <pre><code>
// Так добавлять обработчик неправильно

button.addEventListener('click', function () {
  console.log('Клик по кнопке');
}<span class="yellow">()</span>);
// Сообщение сразу же выведется в консоль


// А такой код верный

button.addEventListener('click', function () {
  console.log('Клик по кнопке');
});
// Сообщение выведется, когда произойдёт событие клика</code>
    </pre>
    <p>В примере выше мы передаём в обработчик функцию, у которой нет своего имени, она не записана в переменную. Мы создали её там же, где передаём. 
        Такие функции, которые создаются 
        в момент передачи и не имеют имени, называются <i>анонимными функциями</i>.</p>
    <h1>Объект <span>event</span></h1>
    <p>Объект <span>event</span> — параметр функции-обработчика. Он всегда передаётся браузером в эту функцию в момент наступления события. 
        Этот объект содержит много полезных свойств и методов.</p>
    <p>Чтобы использовать <span>event</span>, достаточно указать этот объект 
        <i>параметром функции-обработчика</i>  и написать инструкции. 
        Остальное сделает JavaScript. Среди некоторых разработчиков 
        принято называть параметр сокращённо — <span>evt</span>, во избежание
         ошибок.</p>
         <h1>Действия по умолчанию</h1>
         <p>Некоторые элементы страницы имеют действия по умолчанию или
             <i>дефолтные действия</i>. Например, клик по кнопке отправления 
             формы вызывает отправку данных этой формы на сервер, а при клике по ссылке браузер переходит по этой ссылке.</p>
         <p>Объект event содержит метод, который 
            отменяет действие элемента по умолчанию: <span>preventDefault()</span>.</p>
         <pre><code>
link.addEventListener('click', function(evt) {
  // Отменяем действие по умолчанию
  evt.preventDefault();

  // Добавляем инструкции для события клика
  console.log('Произошёл клик');
});  
         </code></pre>
         <h1>Клавиатурные события</h1>
         <p>У события «нажатие на клавишу» есть специальное название — <span>'keydown'</span>. 
            Такое событие срабатывает при нажатии на любую клавишу. Обратите внимание, <i>слушать это событие можно только на элементах, которые имеют 
            состояние фокуса</i>: поля ввода, кнопки, элементы с атрибутом <span>tabindex</span>, документ. <b>При нажатии фокус должен находиться на соответствующем элементе</b>.</p>
         <p>Если мы хотим поймать нажатие какой-то конкретной клавиши, можно обратиться к свойству <span>keyCode</span> объекта <span>event</span>. <i>Это свойство содержит код нажатой клавиши</i>. 
            Например, у <span>Enter</span> код 13, а у <span>ESC</span> — 27. Эти номера универсальны и одинаковы в любой раскладке. Найти код любой клавиши можно 
             <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode">здесь</a>.</p>
        <pre><code>
document.addEventListener('keydown', function(evt) {
  // Проверяем, что код клавиши равен 27
  if (evt.keyCode === 27) {
    // Код отсюда выполнится только при нажатии ESC
  }
});    
        </code></pre>
        <p>Кроме <span>keyCode</span> есть и другие свойства для определения нажатой клавиши. Например, <span>key</span> и <span>code</span>. Они возвращают названия клавиш,
             а не их номера. Эти свойства пока поддерживаются не во всех браузерах, но когда поддержка станет лучше, стоит начать использовать их вместо 
             <span>keyCode</span> в соответствии с современным стандартом JavaScript.</p>
        </body>
</html>